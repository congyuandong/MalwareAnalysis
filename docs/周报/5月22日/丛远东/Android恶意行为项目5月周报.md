#工具研究报告

##androguard

androguard主要用来进行静态分析，其默认采用ded作为反编译的软件，同时提供了很多模块供分析人员使用。

###项目地址 
	
[code地址](https://code.google.com/p/androguard/) 需翻墙

[github地址](https://github.com/androguard/androguard)

###安装方法

[安装说明](https://code.google.com/p/androguard/wiki/Installation#Getting_Androguard)

推荐使用第二种方法，直接用VirtualBox加载镜像系统，虽然下载慢些，但比配置环境依赖快得多。

###使用方法

包括Androaxml、Androapkinfo、Androcsign、Androdd、Androdiff、Androdump、Androgexf、Androlyze、Andromercury、Androrisk、Androsign、Androsim、Androxgmml、Apkviewer等模块

* Androiaxml
	
	由Apk文件获取AndroidManifest.xml文件信息
	
	<pre>
	$ ./androaxml.py -h
	Usage: androaxml.py [options]
	Options:
	-h, --help            show this help message and exit
	-i INPUT, --input=INPUT
	                      filename input (APK or android's binary xml)
	-o OUTPUT, --output=OUTPUT
	                      filename output of the xml
	-v, --version         version of the API

	$ ./androaxml.py -i yourfile.apk -o output.xml
	$ ./androaxml.py -i AndroidManifest.xml -o output.xml
	</pre>

* Androapkinfo

	显示应用的如下信息
	*	permissions
	*	services
	*	activities
	*	receivers
	*	usage of native code
	*	usage of native code

	<pre>
	axelle$ ./androapkinfo.py -i qicsomos.apk
	FILES: 
	        META-INF/MANIFEST.MF    META-INF/MANIFEST.MF -7eb55c04
	        res/layout/main.xml     res/layout/main.xml 54a83b5b
	        AndroidManifest.xml     AndroidManifest.xml 2eef2f86
	        res/drawable-mdpi/ic_launcher.png       res/drawable-mdpi/ic_launcher.png -22437ab
	        res/drawable-hdpi/ic_launcher.png       res/drawable-hdpi/ic_launcher.png -4e108fda
	        META-INF/PLATFORM.RSA   META-INF/PLATFORM.RSA 5c8d71d3
	        META-INF/PLATFORM.SF    META-INF/PLATFORM.SF 5b48f7ec
	        resources.arsc  resources.arsc -55923b8c
	        classes.dex     classes.dex -bafd464
	        res/drawable-ldpi/ic_launcher.png       res/drawable-ldpi/ic_launcher.png -6272d259
	PERMISSIONS: 
	        android.permission.SEND_SMS ['dangerous', 'send SMS messages', 'Allows application to send SMS messages. Malicious applications may cost you money by sending messages without your confirmation.']
	        android.permission.READ_LOGS ['dangerous', 'read sensitive log data', "Allows an application to read from the system's various log files. This allows it to discover general information about what you are doing with the phone, potentially including personal or private information."]
	MAIN ACTIVITY:  org.projectvoodoo.simplecarrieriqdetector.Main
	ACTIVITIES:  ['org.projectvoodoo.simplecarrieriqdetector.Main']
	SERVICES:  []
	RECEIVERS:  []
	PROVIDERS:  []
	Native code: False
	Dynamic code: False
	Reflection code: False
	</pre>

* Androsign Androcsign
	
	 一个用于检测apk信息是否在数据库中，一个用于将apk一些特征信息加入数据库中，类似特征库，基于此，可以去判断该apk是否存在于数据库中。
	<pre>
	desnos@destiny:~/androguard$ ./androcsign.py -h
	Usage: androcsign.py [options]
	Options:
	  -h, --help            show this help message and exit
	  -i INPUT, --input=INPUT
	                        file : use this filename
	  -r REMOVE, --remove=REMOVE
	                        remote the signature
	  -o OUTPUT, --output=OUTPUT
	                        output database
	  -l LIST, --list=LIST  list signatures in database
	  -c CHECK, --check=CHECK
	                        check signatures in database
	  -v, --version         version of the API
	 </pre>

* Androdd

	用于输入类的调用关系图
	<pre>
	$ ./androdd.py --help
	Usage: androdd.py [options]
	Options:
	  -h, --help            show this help message and exit
	  -i INPUT, --input=INPUT
	                        file : use this filename
	  -o OUTPUT, --output=OUTPUT
	                        base directory to output all files
	  -d, --dot             write the method in dot format
	  -f FORMAT, --format=FORMAT
	                        write the method in specific format (png, ...)
	  -v, --version         version of the API
	</pre>

* Androdiff
	
	用于比较两个apk的不同，[文档](https://code.google.com/p/elsim/wiki/Similarity#Androdiff)

* Androdump

	可用于Dump出进程的字节码文件
	<pre>
	$ ./androdump.py -h
	Usage: androdump.py [options]
	Options:
	  -h, --help            show this help message and exit
	  -i INPUT, --input=INPUT
	                        pid
	  -v, --version         version of the API
	</pre>

* 其余文件的使用见这个[文档](https://code.google.com/p/androguard/wiki/Usage)

###总结
>androguard提供了丰富的静态分析接口，使用Python语言构建，适合用来作为静态分析工具，平台支持linux、mac和window。

##apkinspector

依赖androguard作为静态分析库，使用QT作为GUI。

###项目地址

[code地址](https://code.google.com/p/apkinspector/)

[github](https://github.com/honeynet/apkinspector/)

##Andbug

###项目地址 

<https://github.com/swdunlop/AndBug>
	
可对android程序的运行进行实时的监控，项目已有三年未维护，在mac下编译未通过。



